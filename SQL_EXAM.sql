#CREATE DATABASE bank_data_final;

USE bank_data_final;
	
    DROP TABLE BANK_TRANSACTION;
	DROP TABLE BANK_CUST_CONTACT;
	DROP TABLE BANK_EMPLOYEE;
	DROP TABLE BANK_INT_RATE;
	DROP TABLE BANK_FD_ACCOUNT;
	DROP TABLE BANK_RD_ACCOUNT;
	DROP TABLE BANK_SB_ACCOUNT;
	DROP TABLE BANK_CUSTOMER;

-- ------------------------------------------------------
--  DDL for Table BANK_CUST_CONTACT
-- ------------------------------------------------------

  CREATE TABLE BANK_CUST_CONTACT
   (	
    CUST_ID INT (20), 
	CUST_PHONE bigint(100), 
	CONTACT_TYPE VARCHAR(10 ), 
	CUST_ADDR_LINE1 VARCHAR(30), 
	CUST_ADDR_LINE2 VARCHAR (30), 
	CUST_CITY VARCHAR (25), 
	CUST_STATE VARCHAR (25), 
	CUST_PIN INT(6)
   ) ;
-- ------------------------------------------------------
--  DDL for Table BANK_CUSTOMER
-- ------------------------------------------------------

  CREATE TABLE BANK_CUSTOMER 
   (	
     CUST_ID INT(6), 
	CUST_FNAME VARCHAR (25), 
	INITIALS VARCHAR (5), 
	CUST_LNAME VARCHAR (20 ), 
	CUST_SEX VARCHAR (1 ), 
	CUST_DOB DATETIME, 
	CUST_TYPE VARCHAR (4 )
   ) ;
-- ------------------------------------------------------
--  DDL for Table BANK_EMPLOYEE
-- ------------------------------------------------------

  CREATE TABLE BANK_EMPLOYEE
   (	
    BANK_EMP_ID INT(5), 
	EMP_NAME VARCHAR (40), 
	EMP_SEX CHAR(1), 
	DESIGNATION VARCHAR(20), 
	MANAGER_ID INT(6)
   ) ;
-- ------------------------------------------------------
--  DDL for Table BANK_FD_ACCOUNT
-- ------------------------------------------------------

  CREATE TABLE BANK_FD_ACCOUNT 
   (	
   ACCOUNT_NO bigint(100), 
	CUST_ID INT(6), 
	START_DT DATETIME, 
	FD_TERM_MNTH INT(3), 
	INITIAL_AMT INT(20), 
	ACC_STATUS VARCHAR(10) DEFAULT 'Active'
   ) ;
-- ------------------------------------------------------
--  DDL for Table BANK_INT_RATE
-- ------------------------------------------------------

  CREATE TABLE BANK_INT_RATE 
   (	ACCOUNT_TYPE_CD VARCHAR(4 ), 
	INTEREST_RATE INT(5), 
	MIN_AMT INT(20)
   ) ;
-- ------------------------------------------------------
--  DDL for Table BANK_RD_ACCOUNT
-- ------------------------------------------------------

  CREATE TABLE BANK_RD_ACCOUNT 
   (	
   
    ACCOUNT_NO bigint(45), 
	RD_CUST_ID INT(6), 
	RD_START_DT DATETIME, 
	RD_TERM_YRS INT(3), 
	INSTALLMENT_AMT INT(20), 
	CURR_BALANCE INT(20), 
	ACC_STATUS VARCHAR(10 )
   ) ;
-- ------------------------------------------------------
--  DDL for Table BANK_SB_ACCOUNT
-- ------------------------------------------------------

  CREATE TABLE BANK_SB_ACCOUNT 
   (	
    ACCOUNT_NO INT(15), 
	PRIMARY_CUST_ID INT(6), 
	SECONDARY_CUST_ID INT(6), 
	CURR_BAL_AMT INT(20), 
	ACC_STATUS VARCHAR(10 ) DEFAULT 'Active', 
	START_DATE DATETIME, 
	END_DATE DATETIME
   ) ;
-- ------------------------------------------------------
--  DDL for Table BANK_TRANSACTION
-- ------------------------------------------------------

  CREATE TABLE BANK_TRANSACTION 
   (	
    TRANS_NO INT(16), 
	TRANS_TYPE CHAR(2 ), 
	TRANS_DT DATETIME, 
	TRANS_ACC_NO bigint(15), 
	TRANS_DESC VARCHAR(50 ), 
	TRANS_AMT INT(20), 
	BANK_EMP_ID INT(5)
   ) ;
   
#REM INSERTING into BANK_CUST_CONTACT

Insert into BANK_CUST_CONTACT (CUST_ID,CUST_PHONE,CONTACT_TYPE,CUST_ADDR_LINE1,CUST_ADDR_LINE2,CUST_CITY,CUST_STATE,CUST_PIN) values (1001,9981458801,'HOME','731 Jayanagar','1st block','Bangalore','Karnataka',560108);
Insert into BANK_CUST_CONTACT (CUST_ID,CUST_PHONE,CONTACT_TYPE,CUST_ADDR_LINE1,CUST_ADDR_LINE2,CUST_CITY,CUST_STATE,CUST_PIN) values (1002,9745578870,'OFFICE','983 Malleshwaram','18th cross','Bangalore','Karnataka',560211);
Insert into BANK_CUST_CONTACT (CUST_ID,CUST_PHONE,CONTACT_TYPE,CUST_ADDR_LINE1,CUST_ADDR_LINE2,CUST_CITY,CUST_STATE,CUST_PIN) values (1002,25733589,'HOME','339 Thyagarajanagar','9th cross, 5th Main','Bangalore','Karnataka',560012);
Insert into BANK_CUST_CONTACT (CUST_ID,CUST_PHONE,CONTACT_TYPE,CUST_ADDR_LINE1,CUST_ADDR_LINE2,CUST_CITY,CUST_STATE,CUST_PIN) values (1003,9900157446,'HOME','466 Perandapalli','Krishnagiri main road','Hosur','Tamilnadu',635109);
Insert into BANK_CUST_CONTACT (CUST_ID,CUST_PHONE,CONTACT_TYPE,CUST_ADDR_LINE1,CUST_ADDR_LINE2,CUST_CITY,CUST_STATE,CUST_PIN) values (1004,9737822546,'HOME','632 Chamarajapuram','1st cross','Mysore','Karnataka',570009);
Insert into BANK_CUST_CONTACT (CUST_ID,CUST_PHONE,CONTACT_TYPE,CUST_ADDR_LINE1,CUST_ADDR_LINE2,CUST_CITY,CUST_STATE,CUST_PIN) values (1004,9545632116,'OFFICE','452 Hootagalli','25th Main','Mysore','Karnataka',570016);
Insert into BANK_CUST_CONTACT (CUST_ID,CUST_PHONE,CONTACT_TYPE,CUST_ADDR_LINE1,CUST_ADDR_LINE2,CUST_CITY,CUST_STATE,CUST_PIN) values (1005,9644588235,'HOME','543 Shanthi Nagar','8th block','Mysore','Karnataka',570102);
Insert into BANK_CUST_CONTACT (CUST_ID,CUST_PHONE,CONTACT_TYPE,CUST_ADDR_LINE1,CUST_ADDR_LINE2,CUST_CITY,CUST_STATE,CUST_PIN) values (1006,9455488121,'HOME','732 Ranganahalli','9th main','Tumkur','Karnataka',572103);
Insert into BANK_CUST_CONTACT (CUST_ID,CUST_PHONE,CONTACT_TYPE,CUST_ADDR_LINE1,CUST_ADDR_LINE2,CUST_CITY,CUST_STATE,CUST_PIN) values (1007,9644513647,'OFFICE','365 M. G. Road','12th main','Mangalore','Karnataka',575004);
Insert into BANK_CUST_CONTACT (CUST_ID,CUST_PHONE,CONTACT_TYPE,CUST_ADDR_LINE1,CUST_ADDR_LINE2,CUST_CITY,CUST_STATE,CUST_PIN) values (1007,9334456689,'OFFICE','365 M. G. Road','12th main','Mangalore','Karnataka',575004);
Insert into BANK_CUST_CONTACT (CUST_ID,CUST_PHONE,CONTACT_TYPE,CUST_ADDR_LINE1,CUST_ADDR_LINE2,CUST_CITY,CUST_STATE,CUST_PIN) values (1008,2904465,'HOME','23 Kumarapuram','Bangalore road','Madanapalli','Andhra Pradesh',517325);
Insert into BANK_CUST_CONTACT (CUST_ID,CUST_PHONE,CONTACT_TYPE,CUST_ADDR_LINE1,CUST_ADDR_LINE2,CUST_CITY,CUST_STATE,CUST_PIN) values (1009,9345732218,'OFFICE','832 HSR layout','14th main','Bangalore','Karnataka',560007);
Insert into BANK_CUST_CONTACT (CUST_ID,CUST_PHONE,CONTACT_TYPE,CUST_ADDR_LINE1,CUST_ADDR_LINE2,CUST_CITY,CUST_STATE,CUST_PIN) values (1009,9737822546,'HOME','632 Chamarajapuram','1st cross','Mysore','Karnataka',570009);
Insert into BANK_CUST_CONTACT (CUST_ID,CUST_PHONE,CONTACT_TYPE,CUST_ADDR_LINE1,CUST_ADDR_LINE2,CUST_CITY,CUST_STATE,CUST_PIN) values (1010,9044598231,'OFFICE','645 Alvarthirunagar','4th main 6th cross','Chennai','Tamilnadu',600118);
Insert into BANK_CUST_CONTACT (CUST_ID,CUST_PHONE,CONTACT_TYPE,CUST_ADDR_LINE1,CUST_ADDR_LINE2,CUST_CITY,CUST_STATE,CUST_PIN) values (1010,2290535,'OFFICE','645 Gubbi gate','4th main','Tumkur','Karnataka',572118);
#REM INSERTING into BANK_CUSTOMER

Insert into BANK_CUSTOMER (CUST_ID,CUST_FNAME,INITIALS,CUST_LNAME,CUST_SEX,CUST_DOB,CUST_TYPE) values (1001,'John',null,'Smith','M',str_to_date('21-10-1978','%d-%m-%Y'),'IND');
Insert into BANK_CUSTOMER (CUST_ID,CUST_FNAME,INITIALS,CUST_LNAME,CUST_SEX,CUST_DOB,CUST_TYPE) values (1002,'Franklin','J','Dang','M',str_to_date('21-10-1978','%d-%m-%Y'),'IND');
Insert into BANK_CUSTOMER (CUST_ID,CUST_FNAME,INITIALS,CUST_LNAME,CUST_SEX,CUST_DOB,CUST_TYPE) values (1003,'Alice','M','Powell','F',str_to_date('09-04-1976','%d-%m-%Y'),'IND');
Insert into BANK_CUSTOMER (CUST_ID,CUST_FNAME,INITIALS,CUST_LNAME,CUST_SEX,CUST_DOB,CUST_TYPE) values (1004,'Ramesh','R','Narayan','M',str_to_date('08-12-1971','%d-%m-%Y'),'IND');
Insert into BANK_CUSTOMER (CUST_ID,CUST_FNAME,INITIALS,CUST_LNAME,CUST_SEX,CUST_DOB,CUST_TYPE) values (1005,'Nancy','S','Taylor','F',str_to_date('17-09-1979','%d-%m-%Y'),'IND');
Insert into BANK_CUSTOMER (CUST_ID,CUST_FNAME,INITIALS,CUST_LNAME,CUST_SEX,CUST_DOB,CUST_TYPE) values (1006,'Ahmad','M A','Jabbar','M',str_to_date('25-06-1972','%d-%m-%Y'),'IND');
Insert into BANK_CUSTOMER (CUST_ID,CUST_FNAME,INITIALS,CUST_LNAME,CUST_SEX,CUST_DOB,CUST_TYPE) values (1007,'DealWell Co.',null,null,null,null,'CORP');
Insert into BANK_CUSTOMER (CUST_ID,CUST_FNAME,INITIALS,CUST_LNAME,CUST_SEX,CUST_DOB,CUST_TYPE) values (1008,'Aman','K','Mathur','M',str_to_date('30-10-1980','%d-%m-%Y'),'IND');
Insert into BANK_CUSTOMER (CUST_ID,CUST_FNAME,INITIALS,CUST_LNAME,CUST_SEX,CUST_DOB,CUST_TYPE) values (1009,'Smitha',null,'Ramesh','F',str_to_date('03-03-1976','%d-%m-%Y'),'IND');
Insert into BANK_CUSTOMER (CUST_ID,CUST_FNAME,INITIALS,CUST_LNAME,CUST_SEX,CUST_DOB,CUST_TYPE) values (1010,'Popular Enterprises',null,null,null,null,'CORP');
# -- INSERTING into BANK_EMPLOYEE

Insert into BANK_EMPLOYEE (BANK_EMP_ID,EMP_NAME,EMP_SEX,DESIGNATION,MANAGER_ID) values (41001,'CHANDA SINHA','F','MANAGER',null);
Insert into BANK_EMPLOYEE (BANK_EMP_ID,EMP_NAME,EMP_SEX,DESIGNATION,MANAGER_ID) values (41002,'NARAYAN MANE','M','SPL. ASST.',41003);
Insert into BANK_EMPLOYEE (BANK_EMP_ID,EMP_NAME,EMP_SEX,DESIGNATION,MANAGER_ID) values (41003,'TERRY BENFIELD','F','OFFICER',41001);
Insert into BANK_EMPLOYEE (BANK_EMP_ID,EMP_NAME,EMP_SEX,DESIGNATION,MANAGER_ID) values (41004,'ALEX D''SOUZA','M','CLERK',41003);
Insert into BANK_EMPLOYEE (BANK_EMP_ID,EMP_NAME,EMP_SEX,DESIGNATION,MANAGER_ID) values (41005,'AHMED JUNAID','M','CLERK',41003);
Insert into BANK_EMPLOYEE (BANK_EMP_ID,EMP_NAME,EMP_SEX,DESIGNATION,MANAGER_ID) values (41006,'CYNTHIA D''SA','F','CLERK',41003);
Insert into BANK_EMPLOYEE (BANK_EMP_ID,EMP_NAME,EMP_SEX,DESIGNATION,MANAGER_ID) values (41007,'RAMESH S','M','SPL. ASST.',41008);
Insert into BANK_EMPLOYEE (BANK_EMP_ID,EMP_NAME,EMP_SEX,DESIGNATION,MANAGER_ID) values (41008,'P C SHARMA','M','OFFICER',41001);
Insert into BANK_EMPLOYEE (BANK_EMP_ID,EMP_NAME,EMP_SEX,DESIGNATION,MANAGER_ID) values (41009,'RAMESH KUMAR','M','ATTENDER',41007);
Insert into BANK_EMPLOYEE (BANK_EMP_ID,EMP_NAME,EMP_SEX,DESIGNATION,MANAGER_ID) values (41010,'FARHA KHAN','F','ASST. MGR.',41001);
#REM INSERTING into BANK_FD_ACCOUNT
Insert into BANK_FD_ACCOUNT (ACCOUNT_NO,CUST_ID,START_DT,FD_TERM_MNTH,INITIAL_AMT,ACC_STATUS) values (5212340001,1002,str_to_date('22-06-2000','%d-%m-%Y'),30,15000,'Closed');
Insert into BANK_FD_ACCOUNT (ACCOUNT_NO,CUST_ID,START_DT,FD_TERM_MNTH,INITIAL_AMT,ACC_STATUS) values (5212340002,1002,str_to_date('11-05-2002','%d-%m-%Y'),66,25000,'Active');
Insert into BANK_FD_ACCOUNT (ACCOUNT_NO,CUST_ID,START_DT,FD_TERM_MNTH,INITIAL_AMT,ACC_STATUS) values (5212340003,1007,str_to_date('26-11-2003','%d-%m-%Y'),36,80555,'Closed');
Insert into BANK_FD_ACCOUNT (ACCOUNT_NO,CUST_ID,START_DT,FD_TERM_MNTH,INITIAL_AMT,ACC_STATUS) values (5212340004,1003,str_to_date('29-11-2004','%d-%m-%Y'),60,30000,'Active');
Insert into BANK_FD_ACCOUNT (ACCOUNT_NO,CUST_ID,START_DT,FD_TERM_MNTH,INITIAL_AMT,ACC_STATUS) values (5212340005,1009,str_to_date('23-06-2004','%d-%m-%Y'),120,45000,'Active');
Insert into BANK_FD_ACCOUNT (ACCOUNT_NO,CUST_ID,START_DT,FD_TERM_MNTH,INITIAL_AMT,ACC_STATUS) values (5212340006,1001,str_to_date('26-09-2005','%d-%m-%Y'),24,45000,'Active');
Insert into BANK_FD_ACCOUNT (ACCOUNT_NO,CUST_ID,START_DT,FD_TERM_MNTH,INITIAL_AMT,ACC_STATUS) values (5212340007,1010,str_to_date('18-10-2005','%d-%m-%Y'),84,15000000,'Active');
Insert into BANK_FD_ACCOUNT (ACCOUNT_NO,CUST_ID,START_DT,FD_TERM_MNTH,INITIAL_AMT,ACC_STATUS) values (5212340008,1008,str_to_date('18-12-2006','%d-%m-%Y'),36,98765,'Active');
Insert into BANK_FD_ACCOUNT (ACCOUNT_NO,CUST_ID,START_DT,FD_TERM_MNTH,INITIAL_AMT,ACC_STATUS) values (5212340009,1006,str_to_date('14-02-2007','%d-%m-%Y'),120,25000,'Active');
Insert into BANK_FD_ACCOUNT (ACCOUNT_NO,CUST_ID,START_DT,FD_TERM_MNTH,INITIAL_AMT,ACC_STATUS) values (5212340010,1007,str_to_date('21-09-2008','%d-%m-%Y'),60,2500000,'Active');
#REM INSERTING into BANK_INT_RATE
Insert into BANK_INT_RATE (ACCOUNT_TYPE_CD,INTEREST_RATE,MIN_AMT) values ('SB',5,1000);
Insert into BANK_INT_RATE (ACCOUNT_TYPE_CD,INTEREST_RATE,MIN_AMT) values ('FD',8.5,100);
Insert into BANK_INT_RATE (ACCOUNT_TYPE_CD,INTEREST_RATE,MIN_AMT) values ('RD',8,100);
#REM INSERTING into BANK_RD_ACCOUNT
Insert into BANK_RD_ACCOUNT (ACCOUNT_NO,RD_CUST_ID,RD_START_DT,RD_TERM_YRS,INSTALLMENT_AMT,CURR_BALANCE,ACC_STATUS) values (6000010001,1006,str_to_date('13-06-2006','%d-%m-%Y'),10,1000,75000,'Active');
Insert into BANK_RD_ACCOUNT (ACCOUNT_NO,RD_CUST_ID,RD_START_DT,RD_TERM_YRS,INSTALLMENT_AMT,CURR_BALANCE,ACC_STATUS) values (6000010002,1003,str_to_date('26-11-2006','%d-%m-%Y'),6,3000,208000,'Active');
Insert into BANK_RD_ACCOUNT (ACCOUNT_NO,RD_CUST_ID,RD_START_DT,RD_TERM_YRS,INSTALLMENT_AMT,CURR_BALANCE,ACC_STATUS) values (6000010003,1008,str_to_date('03-10-2007','%d-%m-%Y'),5,2500,148000,'Active');
Insert into BANK_RD_ACCOUNT (ACCOUNT_NO,RD_CUST_ID,RD_START_DT,RD_TERM_YRS,INSTALLMENT_AMT,CURR_BALANCE,ACC_STATUS) values (6000010004,1009,str_to_date('29-04-2007','%d-%m-%Y'),4,6000,0,'Closed');
Insert into BANK_RD_ACCOUNT (ACCOUNT_NO,RD_CUST_ID,RD_START_DT,RD_TERM_YRS,INSTALLMENT_AMT,CURR_BALANCE,ACC_STATUS) values (6000010005,1001,str_to_date('17-02-2008','%d-%m-%Y'),1,10000,0,'Closed');
Insert into BANK_RD_ACCOUNT (ACCOUNT_NO,RD_CUST_ID,RD_START_DT,RD_TERM_YRS,INSTALLMENT_AMT,CURR_BALANCE,ACC_STATUS) values (6000010006,1007,str_to_date('16-07-2008','%d-%m-%Y'),9,20000,1000012,'Active');
Insert into BANK_RD_ACCOUNT (ACCOUNT_NO,RD_CUST_ID,RD_START_DT,RD_TERM_YRS,INSTALLMENT_AMT,CURR_BALANCE,ACC_STATUS) values (6000010007,1001,str_to_date('26-05-2008','%d-%m-%Y'),4,5000,0,'Closed');
Insert into BANK_RD_ACCOUNT (ACCOUNT_NO,RD_CUST_ID,RD_START_DT,RD_TERM_YRS,INSTALLMENT_AMT,CURR_BALANCE,ACC_STATUS) values (6000010008,1010,str_to_date('18-12-2009','%d-%m-%Y'),7,50000,1550000,'Active');
Insert into BANK_RD_ACCOUNT (ACCOUNT_NO,RD_CUST_ID,RD_START_DT,RD_TERM_YRS,INSTALLMENT_AMT,CURR_BALANCE,ACC_STATUS) values (6000010009,1007,str_to_date('20-04-2009','%d-%m-%Y'),4,14000,560000,'Active');
Insert into BANK_RD_ACCOUNT (ACCOUNT_NO,RD_CUST_ID,RD_START_DT,RD_TERM_YRS,INSTALLMENT_AMT,CURR_BALANCE,ACC_STATUS) values (6000010010,1010,str_to_date('08-05-2010','%d-%m-%Y'),7,25000,700000,'Active');
#REM INSERTING into BANK_SB_ACCOUNT
Insert into BANK_SB_ACCOUNT (ACCOUNT_NO,PRIMARY_CUST_ID,SECONDARY_CUST_ID,CURR_BAL_AMT,ACC_STATUS,START_DATE,END_DATE) values (1000012003,1005,1001,0,'Closed',str_to_date('20-11-2006','%d-%m-%Y'),str_to_date('23-08-2011','%d-%m-%Y'));
Insert into BANK_SB_ACCOUNT (ACCOUNT_NO,PRIMARY_CUST_ID,SECONDARY_CUST_ID,CURR_BAL_AMT,ACC_STATUS,START_DATE,END_DATE) values (1000012004,1008,null,84924,'Active',str_to_date('11-03-2006','%d-%m-%Y'),null);
Insert into BANK_SB_ACCOUNT (ACCOUNT_NO,PRIMARY_CUST_ID,SECONDARY_CUST_ID,CURR_BAL_AMT,ACC_STATUS,START_DATE,END_DATE) values (1000012005,1009,1004,209844.03,'Active',str_to_date('20-11-2006','%d-%m-%Y'),null);
Insert into BANK_SB_ACCOUNT (ACCOUNT_NO,PRIMARY_CUST_ID,SECONDARY_CUST_ID,CURR_BAL_AMT,ACC_STATUS,START_DATE,END_DATE) values (1000012006,1004,null,0,'Closed',str_to_date('12-09-2007','%d-%m-%Y'),str_to_date('12-09-10','%d-%m-%Y'));
Insert into BANK_SB_ACCOUNT (ACCOUNT_NO,PRIMARY_CUST_ID,SECONDARY_CUST_ID,CURR_BAL_AMT,ACC_STATUS,START_DATE,END_DATE) values (1000012007,1003,null,12300,'Inactive',str_to_date('09-12-2008','%d-%m-%Y'),null);
Insert into BANK_SB_ACCOUNT (ACCOUNT_NO,PRIMARY_CUST_ID,SECONDARY_CUST_ID,CURR_BAL_AMT,ACC_STATUS,START_DATE,END_DATE) values (1000012008,1005,null,10235,'Active',str_to_date('23-05-2009','%d-%m-%Y'),null);
Insert into BANK_SB_ACCOUNT (ACCOUNT_NO,PRIMARY_CUST_ID,SECONDARY_CUST_ID,CURR_BAL_AMT,ACC_STATUS,START_DATE,END_DATE) values (1000012009,1006,null,73535,'Active',str_to_date('10-10-2010','%d-%m-%Y'),null);
Insert into BANK_SB_ACCOUNT (ACCOUNT_NO,PRIMARY_CUST_ID,SECONDARY_CUST_ID,CURR_BAL_AMT,ACC_STATUS,START_DATE,END_DATE) values (1000012010,1004,null,54674,'Active',str_to_date('09-10-2011','%d-%m-%Y'),null);
Insert into BANK_SB_ACCOUNT (ACCOUNT_NO,PRIMARY_CUST_ID,SECONDARY_CUST_ID,CURR_BAL_AMT,ACC_STATUS,START_DATE,END_DATE) values (1000012001,1001,null,25000,'Active',str_to_date('06-09-2004','%d-%m-%Y'),null);
Insert into BANK_SB_ACCOUNT (ACCOUNT_NO,PRIMARY_CUST_ID,SECONDARY_CUST_ID,CURR_BAL_AMT,ACC_STATUS,START_DATE,END_DATE) values (1000012002,1002,null,31109.43,'Active',str_to_date('16-12-2005','%d-%m-%Y'),null);
#REM INSERTING into BANK_TRANSACTION
Insert into BANK_TRANSACTION (TRANS_NO,TRANS_TYPE,TRANS_DT,TRANS_ACC_NO,TRANS_DESC,TRANS_AMT,BANK_EMP_ID) values (100001201,'CR',str_to_date('05-09-2005','%d-%m-%Y'),1000012001,'SALARY FOR THE MONTH Aug ''05',25423,41005);
Insert into BANK_TRANSACTION (TRANS_NO,TRANS_TYPE,TRANS_DT,TRANS_ACC_NO,TRANS_DESC,TRANS_AMT,BANK_EMP_ID) values (100001202,'DB',str_to_date('17-03-2006','%d-%m-%Y'),1000012001,'ATM/CASH WDL/20040924842825/0',4000,41004);
Insert into BANK_TRANSACTION (TRANS_NO,TRANS_TYPE,TRANS_DT,TRANS_ACC_NO,TRANS_DESC,TRANS_AMT,BANK_EMP_ID) values (100001203,'CR',str_to_date('16-06-2006','%d-%m-%Y'),1000012002,'IT Refund 2006-07',8563.32,41004);
Insert into BANK_TRANSACTION (TRANS_NO,TRANS_TYPE,TRANS_DT,TRANS_ACC_NO,TRANS_DESC,TRANS_AMT,BANK_EMP_ID) values (100001204,'DB',str_to_date('03-07-2006','%d-%m-%Y'),1000012004,'IMWARD MICR ZONE - 1',14100,41006);
Insert into BANK_TRANSACTION (TRANS_NO,TRANS_TYPE,TRANS_DT,TRANS_ACC_NO,TRANS_DESC,TRANS_AMT,BANK_EMP_ID) values (100001205,'CR',str_to_date('17-08-2006','%d-%m-%Y'),6000010001,'RD INSTLMNT Aug ''06',1000,41008);
Insert into BANK_TRANSACTION (TRANS_NO,TRANS_TYPE,TRANS_DT,TRANS_ACC_NO,TRANS_DESC,TRANS_AMT,BANK_EMP_ID) values (100001206,'CR',str_to_date('15-05-2007','%d-%m-%Y'),1000012005,'TRAVEL SETTLMNT',1759.5,41004);
Insert into BANK_TRANSACTION (TRANS_NO,TRANS_TYPE,TRANS_DT,TRANS_ACC_NO,TRANS_DESC,TRANS_AMT,BANK_EMP_ID) values (100001207,'DB',str_to_date('13-06-2007','%d-%m-%Y'),1000012005,'INS. PREM. PYMT',6700,41006);
Insert into BANK_TRANSACTION (TRANS_NO,TRANS_TYPE,TRANS_DT,TRANS_ACC_NO,TRANS_DESC,TRANS_AMT,BANK_EMP_ID) values (100001208,'CR',str_to_date('03-10-2007','%d-%m-%Y'),6000010003,'RD INSTLMNT Oct ''07',2500,41010);
Insert into BANK_TRANSACTION (TRANS_NO,TRANS_TYPE,TRANS_DT,TRANS_ACC_NO,TRANS_DESC,TRANS_AMT,BANK_EMP_ID) values (100001209,'CR',str_to_date('29-12-2007','%d-%m-%Y'),6000010004,'RD INSTLMNT Dec ''07',6000,41006);
Insert into BANK_TRANSACTION (TRANS_NO,TRANS_TYPE,TRANS_DT,TRANS_ACC_NO,TRANS_DESC,TRANS_AMT,BANK_EMP_ID) values (100001210,'CR',str_to_date('16-08-2008','%d-%m-%Y'),6000010006,'RD INSTLMNT Aug ''06',20000,41005);
Insert into BANK_TRANSACTION (TRANS_NO,TRANS_TYPE,TRANS_DT,TRANS_ACC_NO,TRANS_DESC,TRANS_AMT,BANK_EMP_ID) values (100001211,'CR',str_to_date('20-10-2008','%d-%m-%Y'),6000010009,'RD INSTLMNT Oct ''08',14000,41006);
Insert into BANK_TRANSACTION (TRANS_NO,TRANS_TYPE,TRANS_DT,TRANS_ACC_NO,TRANS_DESC,TRANS_AMT,BANK_EMP_ID) values (100001212,'CR',str_to_date('19-01-2009','%d-%m-%Y'),6000010008,'CASH WITHDRAWAL',41000,41010);
Insert into BANK_TRANSACTION (TRANS_NO,TRANS_TYPE,TRANS_DT,TRANS_ACC_NO,TRANS_DESC,TRANS_AMT,BANK_EMP_ID) values (100001213,'CR',str_to_date('13-03-2009','%d-%m-%Y'),1000012007,'CASH DEPOSIT',20000,41004);
Insert into BANK_TRANSACTION (TRANS_NO,TRANS_TYPE,TRANS_DT,TRANS_ACC_NO,TRANS_DESC,TRANS_AMT,BANK_EMP_ID) values (100001214,'CR',str_to_date('08-05-2010','%d-%m-%Y'),6000010010,'RD INSTLMNT May ''10',24100,41004);
Insert into BANK_TRANSACTION (TRANS_NO,TRANS_TYPE,TRANS_DT,TRANS_ACC_NO,TRANS_DESC,TRANS_AMT,BANK_EMP_ID) values (100001215,'CR',str_to_date('08-06-2010','%d-%m-%Y'),6000010010,'RD INSTLMNT Jun ''10',24100,41005);
Insert into BANK_TRANSACTION (TRANS_NO,TRANS_TYPE,TRANS_DT,TRANS_ACC_NO,TRANS_DESC,TRANS_AMT,BANK_EMP_ID) values (100001216,'CR',str_to_date('30-06-2010','%d-%m-%Y'),1000012008,'INTEREST PYMT JUN ''10',8320,41006);
Insert into BANK_TRANSACTION (TRANS_NO,TRANS_TYPE,TRANS_DT,TRANS_ACC_NO,TRANS_DESC,TRANS_AMT,BANK_EMP_ID) values (100001217,'DB',str_to_date('07-02-2011','%d-%m-%Y'),1000012009,'CREDIT CARD PYMT 4477****9242',19011.54,41006);
Insert into BANK_TRANSACTION (TRANS_NO,TRANS_TYPE,TRANS_DT,TRANS_ACC_NO,TRANS_DESC,TRANS_AMT,BANK_EMP_ID) values (100001218,'DB',str_to_date('17-08-2011','%d-%m-%Y'),1000012009,'BILL PYMT 5475***6000',2910,41005);
Insert into BANK_TRANSACTION (TRANS_NO,TRANS_TYPE,TRANS_DT,TRANS_ACC_NO,TRANS_DESC,TRANS_AMT,BANK_EMP_ID) values (100001219,'DB',str_to_date('24-12-2011','%d-%m-%Y'),1000012010,'TO Shroff Publishers',16938,41003);
Insert into BANK_TRANSACTION (TRANS_NO,TRANS_TYPE,TRANS_DT,TRANS_ACC_NO,TRANS_DESC,TRANS_AMT,BANK_EMP_ID) values (100001220,'CR',str_to_date('08-12-2011','%d-%m-%Y'),1000012010,'CHK DEPOSIT 32294',22000,41005);
-- ------------------------------------------------------
--  DDL for Index PK_BCC
-- ------------------------------------------------------

  CREATE UNIQUE INDEX PK_BCC ON BANK_CUST_CONTACT (CUST_ID, CUST_PHONE) 
  ;
-- ------------------------------------------------------
--  DDL for Index PK_BANK_CUST
-- ------------------------------------------------------

  CREATE UNIQUE INDEX PK_BANK_CUST ON BANK_CUSTOMER (CUST_ID) 
  ;
-- ------------------------------------------------------
--  DDL for Index SYS_C009181
-- ------------------------------------------------------

  CREATE UNIQUE INDEX SYS_C009181 ON BANK_EMPLOYEE (BANK_EMP_ID) 
  ;
-- ------------------------------------------------------
--  DDL for Index SYS_C009183
-- ------------------------------------------------------

  CREATE UNIQUE INDEX SYS_C009183 ON BANK_FD_ACCOUNT (ACCOUNT_NO) 
  ;
-- ------------------------------------------------------
--  DDL for Index SYS_C009196
-- ------------------------------------------------------

  CREATE UNIQUE INDEX SYS_C009196 ON BANK_INT_RATE (ACCOUNT_TYPE_CD) 
  ;
-- ------------------------------------------------------
--  DDL for Index SYS_C009184
-- ------------------------------------------------------

  CREATE UNIQUE INDEX SYS_C009184 ON BANK_RD_ACCOUNT (ACCOUNT_NO) 
  ;
-- ------------------------------------------------------
--  DDL for Index SYS_C009185
-- ------------------------------------------------------

  CREATE UNIQUE INDEX SYS_C009185 ON BANK_SB_ACCOUNT (ACCOUNT_NO) 
  ;
-- ------------------------------------------------------
--  DDL for Index SYS_C009200
-- ------------------------------------------------------

  CREATE UNIQUE INDEX SYS_C009200 ON BANK_TRANSACTION (TRANS_NO) 
  ;
-- ------------------------------------------------------
--  Constraints for Table BANK_CUST_CONTACT
-- ------------------------------------------------------

  ALTER TABLE `BANK_CUST_CONTACT` ADD CONSTRAINT PK_BCC PRIMARY KEY (`CUST_ID`, `CUST_PHONE`);
 
  ALTER TABLE BANK_CUST_CONTACT  MODIFY CUST_ID INT (20)  NOT NULL  ;
 
  ALTER TABLE `BANK_CUST_CONTACT` MODIFY CUST_PHONE bigint(100) NOT NULL;
  
  # CUST_PHONE bigint(100), 
  #	CONTACT_TYPE VARCHAR(10 ),
 
  ALTER TABLE `BANK_CUST_CONTACT` MODIFY CONTACT_TYPE VARCHAR(10 ) NOT NULL ;
-- ------------------------------------------------------
--  Constraints for Table BANK_CUSTOMER
-- ------------------------------------------------------

  ALTER TABLE `BANK_CUSTOMER` ADD CONSTRAINT `PK_BANK_CUST` PRIMARY KEY (`CUST_ID`);
 
  ALTER TABLE `BANK_CUSTOMER` MODIFY CUST_ID INT(6) NOT NULL ;
 
  ALTER TABLE `BANK_CUSTOMER` MODIFY CUST_FNAME VARCHAR (25) NOT NULL ;
 
  ALTER TABLE `BANK_CUSTOMER` MODIFY CUST_TYPE VARCHAR (4 ) NOT NULL;
  
-- ------------------------------------------------------
--  Constraints for Table BANK_EMPLOYEE
-- ------------------------------------------------------

  ALTER TABLE `BANK_EMPLOYEE` MODIFY BANK_EMP_ID INT(5) NOT NULL ;
 
  ALTER TABLE `BANK_EMPLOYEE` MODIFY EMP_NAME VARCHAR (40) NOT NULL ;
 
  ALTER TABLE `BANK_EMPLOYEE` MODIFY EMP_SEX CHAR(1) NOT NULL ;
 
  ALTER TABLE `BANK_EMPLOYEE` ADD PRIMARY KEY (`BANK_EMP_ID`);
-- ------------------------------------------------------
--  Constraints for Table BANK_FD_ACCOUNT
-- ------------------------------------------------------

-- ------------------------------------------------------
--  DDL for Table BANK_FD_ACCOUNT
-- ------------------------------------------------------

  ALTER TABLE `BANK_FD_ACCOUNT` ADD CONSTRAINT `CHK_MIN_FD_AMT` CHECK (INITIAL_AMT > 1000);
 
  ALTER TABLE `BANK_FD_ACCOUNT` MODIFY ACCOUNT_NO bigint(100) NOT NULL ;
 
  ALTER TABLE `BANK_FD_ACCOUNT` MODIFY CUST_ID INT(6) NOT NULL ;
 
  ALTER TABLE `BANK_FD_ACCOUNT` MODIFY START_DT DATETIME NOT NULL;
 
  ALTER TABLE `BANK_FD_ACCOUNT` MODIFY FD_TERM_MNTH INT(3) NOT NULL;
 
  ALTER TABLE `BANK_FD_ACCOUNT` MODIFY INITIAL_AMT INT(20) NOT NULL ;
 
  ALTER TABLE `BANK_FD_ACCOUNT` ADD PRIMARY KEY (`ACCOUNT_NO`);
-- ------------------------------------------------------
--  Constraints for Table BANK_INT_RATE
-- ------------------------------------------------------


  ALTER TABLE `BANK_INT_RATE` ADD CONSTRAINT `CHK_INT_RATES` CHECK (INTEREST_RATE BETWEEN 0.5 AND 12);
 
  ALTER TABLE BANK_INT_RATE MODIFY ACCOUNT_TYPE_CD VARCHAR(4 ) NOT NULL;
 
  ALTER TABLE `BANK_INT_RATE` MODIFY INTEREST_RATE INT(5) NOT NULL ;
 
  ALTER TABLE `BANK_INT_RATE` MODIFY MIN_AMT INT(20) NOT NULL ;
 
  ALTER TABLE `BANK_INT_RATE` ADD PRIMARY KEY (`ACCOUNT_TYPE_CD`);
-- ------------------------------------------------------
--  Constraints for Table BANK_RD_ACCOUNT
-- ------------------------------------------------------

  ALTER TABLE `BANK_RD_ACCOUNT` ADD CONSTRAINT `CHK_MIN_INSTLMNT_AMT` CHECK (INSTALLMENT_AMT > 100);
 
  ALTER TABLE `BANK_RD_ACCOUNT` ADD CONSTRAINT `CHK_RD_TERM_RANGE` CHECK (RD_TERM_YRS BETWEEN 0.5 AND 10);
 
  ALTER TABLE `BANK_RD_ACCOUNT` MODIFY  ACCOUNT_NO bigint(45) NOT NULL;
 
  ALTER TABLE `BANK_RD_ACCOUNT` MODIFY RD_CUST_ID INT(6) NOT NULL;
 
  ALTER TABLE `BANK_RD_ACCOUNT` MODIFY RD_START_DT DATETIME NOT NULL;
 
  ALTER TABLE `BANK_RD_ACCOUNT` MODIFY RD_TERM_YRS INT(3) NOT NULL ;
 
  ALTER TABLE `BANK_RD_ACCOUNT` MODIFY INSTALLMENT_AMT INT(20) NOT NULL;
 
  ALTER TABLE `BANK_RD_ACCOUNT` ADD PRIMARY KEY (`ACCOUNT_NO`);
-- ------------------------------------------------------
--  Constraints for Table BANK_SB_ACCOUNT
-- ------------------------------------------------------

  ALTER TABLE `BANK_SB_ACCOUNT` ADD CONSTRAINT `CHK_ACC_STATUS` CHECK (ACC_STATUS IN ('Active', 'Inactive', 'Closed'));
 
  ALTER TABLE `BANK_SB_ACCOUNT` ADD CONSTRAINT `CHK_DATES` CHECK (START_DATE < END_DATE);
 
  ALTER TABLE `BANK_SB_ACCOUNT` MODIFY  ACCOUNT_NO INT(15) NOT NULL ;
 
  ALTER TABLE `BANK_SB_ACCOUNT` MODIFY PRIMARY_CUST_ID INT(6) NOT NULL ;
 
  ALTER TABLE `BANK_SB_ACCOUNT` MODIFY CURR_BAL_AMT INT(20) NOT NULL ;
 
  ALTER TABLE `BANK_SB_ACCOUNT` MODIFY ACC_STATUS VARCHAR(10 ) NOT NULL ;
 
  ALTER TABLE `BANK_SB_ACCOUNT` MODIFY START_DATE DATETIME NOT NULL ;
 
  ALTER TABLE `BANK_SB_ACCOUNT` ADD PRIMARY KEY (`ACCOUNT_NO`);
  
-- ------------------------------------------------------
--  Constraints for Table BANK_TRANSACTION
-- ------------------------------------------------------

  ALTER TABLE `BANK_TRANSACTION` ADD CONSTRAINT `CHK_TRANS_AMT` CHECK (TRANS_AMT > 0);
 
  ALTER TABLE `BANK_TRANSACTION` ADD CONSTRAINT `CHK_TRANS_TYPE` CHECK (trans_type = 'CR' OR trans_type = 'DB');
 
  ALTER TABLE `BANK_TRANSACTION` MODIFY TRANS_NO INT(16) NOT NULL ;
 
  ALTER TABLE `BANK_TRANSACTION` MODIFY TRANS_TYPE CHAR(2 ) NOT NULL;
 
  ALTER TABLE `BANK_TRANSACTION` MODIFY TRANS_DT DATETIME NOT NULL;
 
  ALTER TABLE `BANK_TRANSACTION` MODIFY TRANS_DESC VARCHAR(50 ) NOT NULL;
 
  ALTER TABLE `BANK_TRANSACTION` MODIFY TRANS_AMT INT(20) NOT NULL ;
 
  ALTER TABLE `BANK_TRANSACTION` MODIFY TRANS_ACC_NO bigint(15) NOT NULL;
 
  ALTER TABLE `BANK_TRANSACTION` ADD PRIMARY KEY (`TRANS_NO`);
  
-- ------------------------------------------------------
--  Ref Constraints for Table BANK_CUST_CONTACT
-- ------------------------------------------------------

  ALTER TABLE `BANK_CUST_CONTACT` ADD CONSTRAINT `FK_BCC_CUST_ID` FOREIGN KEY (`CUST_ID`)
	  REFERENCES `BANK_CUSTOMER` (`CUST_ID`);
-- ------------------------------------------------------
--  Ref Constraints for Table BANK_EMPLOYEE
-- ------------------------------------------------------

  ALTER TABLE `BANK_EMPLOYEE` ADD CONSTRAINT `FK_MGR_ID` FOREIGN KEY (`MANAGER_ID`)
	  REFERENCES `BANK_EMPLOYEE` (`BANK_EMP_ID`);
-- ------------------------------------------------------
--  Ref Constraints for Table BANK_FD_ACCOUNT
-- ------------------------------------------------------

  ALTER TABLE `BANK_FD_ACCOUNT` ADD CONSTRAINT `FK_FD_CUST_ID` FOREIGN KEY (`CUST_ID`)
	  REFERENCES `BANK_CUSTOMER` (`CUST_ID`);
-- ------------------------------------------------------
--  Ref Constraints for Table BANK_RD_ACCOUNT
-- ------------------------------------------------------

  ALTER TABLE `BANK_RD_ACCOUNT` ADD CONSTRAINT `FK_RD_CUST_ID` FOREIGN KEY (`RD_CUST_ID`)
	  REFERENCES `BANK_CUSTOMER` (`CUST_ID`);
-- ------------------------------------------------------
--  Ref Constraints for Table BANK_SB_ACCOUNT
-- ------------------------------------------------------

  ALTER TABLE `BANK_SB_ACCOUNT` ADD CONSTRAINT `FK_SB_PRIM_CUST_ID` FOREIGN KEY (`PRIMARY_CUST_ID`)
	  REFERENCES `BANK_CUSTOMER` (`CUST_ID`);
 
  ALTER TABLE `BANK_SB_ACCOUNT` ADD CONSTRAINT `FK_SB_SEC_CUST_ID` FOREIGN KEY (`SECONDARY_CUST_ID`)
	  REFERENCES `BANK_CUSTOMER` (`CUST_ID`);
-- ------------------------------------------------------
--  Ref Constraints for Table BANK_TRANSACTION
-- ------------------------------------------------------

  ALTER TABLE `BANK_TRANSACTION` ADD CONSTRAINT `FK_EMP_ID` FOREIGN KEY (`BANK_EMP_ID`)
	  REFERENCES `BANK_EMPLOYEE` (`BANK_EMP_ID`);
      
	

SELECT * FROM BANK_CUST_CONTACT limit 1 ; # CUST_ID
  
SELECT * FROM BANK_CUSTOMER limit 1 ; # CUST_ID
 
SELECT * FROM BANK_EMPLOYEE limit 1 ; # BANK_EMP_ID

SELECT * FROM BANK_FD_ACCOUNT limit 1 ; #ACCOUNT_NO

SELECT * FROM BANK_INT_RATE ;  #ACCOUNT_TYPE_CD

SELECT * FROM BANK_RD_ACCOUNT limit 1; #ACCOUNT_NO

SELECT * FROM BANK_SB_ACCOUNT limit 1 ;#ACCOUNT_NO

SELECT * FROM BANK_TRANSACTION  limit  1; #TRANS_NO  , #BANK_EMP_ID TRANS_ACC_NO

#P(1+R/100)^N ;

SELECT fdacc.* , bcust.* , bcustcon.* ,  IF(bcustcon.CONTACT_TYPE = 'HOME' , bcustcon.CUST_PHONE, NULL ) AS PHONE , ( (fdacc.INITIAL_AMT * POWER( ( 1 + ( 9  / 100 ) ), (fdacc.FD_TERM_MNTH/12 )) )- fdacc.INITIAL_AMT )  AS  abc 
FROM BANK_FD_ACCOUNT fdacc , BANK_CUSTOMER bcust  , BANK_CUST_CONTACT bcustcon 
Where 
fdacc.cust_ID = bcust.cust_id  AND
fdacc.cust_ID =  bcustcon.cust_id AND
fdacc.ACC_STATUS = 'Active' ;

